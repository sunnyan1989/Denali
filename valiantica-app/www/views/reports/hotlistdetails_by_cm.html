<div class="page page-table">
    <section class="panel panel-default table-dynamic">
        <div class="panel-heading">
            <strong><span class="glyphicon glyphicon-th"></span> Hotlist Details by CM Report</strong>
        </div>
        <div class="panel-body">
            <div class="row container">
                <form class="form-inline" role="form" data-ng-submit="search(searchKeys)">
                    <div class="form-group">
                        <select class="form-control input-sm" data-ng-model="searchKeys.cm_person_id" data-ng-options="status.name for status in CMList">
                        </select>
                    </div>&emsp;
                    <div class="form-group">
                        <input type="text" 
                               class="form-control ui-datepicker input-sm"
                               datepicker-popup="MM/dd/yyyy"
                               ng-model="searchKeys.begin_date"
                               placeholder="Start Date"
                               close-text="Close">
                    </div>&emsp;
                    <div class="form-group">
                        <input type="text" 
                               class="form-control ui-datepicker input-sm"
                               datepicker-popup="MM/dd/yyyy"
                               ng-model="searchKeys.end_date"
                               placeholder="End Date"
                               close-text="Close">
                    </div>&emsp;

                    <button type="submit" class="btn btn-sm btn-info"><span class="glyphicon glyphicon-search"></span></button>
                </form>
            </div>
            <div class="row" data-ng-controller='TableCtrl'>	
                <div class="table-filters">
                    <div class="row">
                        <div class="col-sm-4">
                            <a href="#/reports/export" class="btn btn-sm btn-w-md btn-gap-v btn-primary active_button">Export</a>
                        </div>
                        <div class="col-sm-offset-8 col-sm-4">
                            <form>
                                <input type="text"
                                       placeholder="search"
                                       class="form-control input-sm"
                                       data-ng-model="filterKeywords"
                                       data-ng-keyup="filterData()">
                            </form>
                        </div>
                    </div>
                </div>
                <table class="table table-bordered table-striped table-responsive table-condensed" my-table-data="reportData">
                    <thead>
                        <tr class="bg-dark"> 
                            <th><div class="th">
                        Candidate / Skill
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('candidate')"
                              data-ng-class="{active: row == 'candidate'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-candidate')"
                              data-ng-class="{active: row == '-candidate'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Job ID
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('jid')"
                              data-ng-class="{active: row == 'jid'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-jid')"
                              data-ng-class="{active: row == '-jid'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Job
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('job')"
                              data-ng-class="{active: row == 'job'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-job')"
                              data-ng-class="{active: row == '-job'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Vendor
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('vendor')"
                              data-ng-class="{active: row == 'vendor'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-vendor')"
                              data-ng-class="{active: row == '-vendor'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Client
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('client')"
                              data-ng-class="{active: row == 'client'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-client')"
                              data-ng-class="{active: row == '-client'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Source
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('source')"
                              data-ng-class="{active: row == 'source'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-source')"
                              data-ng-class="{active: row == '-source'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Job Status
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('status')"
                              data-ng-class="{active: row == 'status'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-status')"
                              data-ng-class="{active: row == '-status'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Activity Time
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('activationdate')"
                              data-ng-class="{active: row == 'activationdate'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-activationdate')"
                              data-ng-class="{active: row == '-activationdate'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Action
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('action')"
                              data-ng-class="{active: row == 'action'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-action')"
                              data-ng-class="{active: row == '-action'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        Note
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('note')"
                              data-ng-class="{active: row == 'note'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-note')"
                              data-ng-class="{active: row == '-note'}"></span>
                    </div>
                    </th>
                    <th><div class="th">
                        HotListID
                        <span class="glyphicon glyphicon-chevron-up"
                              data-ng-click=" order('hotlistid')"
                              data-ng-class="{active: row == 'hotlistid'}"></span>
                        <span class="glyphicon glyphicon-chevron-down"
                              data-ng-click=" order('-hotlistid')"
                              data-ng-class="{active: row == '-hotlistid'}"></span>
                    </div>
                    </th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="singleData in currentPageData">
                            <td ng-show="singleData.newName">{{singleData.newName}}</td>
                            <td ng-show="$index === 0 && singleData.newName === ''">{{singleData.Candidate_name}}/{{singleData.Candidate_skill}}</td>
                            <td ng-show="$index !== 0 && singleData.newName === ''"></td>
                            <td>{{singleData.newjobid}}</td>
                            <td><a href="{{singleData.joblink}}" target="_blank">{{singleData.newjobtitle}}</a></td>
                            <td>{{singleData.newjobvendor}}</td>
                            <td>{{singleData.newjobclient}}</td>
                            <td>{{singleData.newjobsource}}</td>
                            <td>{{singleData.newjobstatus}}</td>
                            <td>{{singleData.ActivityDate| date:'MM/dd/yyyy hh:mm a'}}</td>
                            <td>{{singleData.action}}</td>
                            <td>{{singleData.actionote}}</td>
                            <td>{{singleData.HotList_sid}}, {{singleData.HotListItem_sid}}, {{singleData.HotListAssignment_sid}}</td>
                        </tr>
                    </tbody>
                </table>
                <footer class="table-footer" ng-show="!no_result_found">
                    <div class="row">
                        <div class="col-md-6 page-num-info">
                            <span>
                                Show 
                                <select data-ng-model="numPerPage"
                                        data-ng-options="num for num in numPerPageOpt"
                                        data-ng-change="onNumPerPageChange()">
                                </select> 
                                entries per page
                            </span>
                        </div>
                        <div class="col-md-6 text-right pagination-container">
                            <pagination class="pagination-sm"
                                        page="currentPage"
                                        total-items="filteredData.length"
                                        max-size="4"
                                        on-select-page="select(page)"
                                        items-per-page="numPerPage"
                                        rotate="false"
                                        boundary-links="true"></pagination>
                        </div>
                    </div>
                </footer>

            </div>
        </div>

        <div class="table-filters" ng-show="no_result_found" style="font-size: 15px;">
            <span data-i18n="This report does not return any data."></span>
        </div>

        <div class="page-loading" ng-show="page_ishow">
            <img alt="Please Wait..." data-ng-src="images/loading.gif">
        </div>
    </section>
</div>
